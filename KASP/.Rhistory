x[1,]
X[1,]
X[2,]
image(Z.hat)
colMeans(X)
dim(Z)
dim(Z)
dim(Z.hat)
Z <- cbind(matrix(0, n, 1), rbind(matrix(0, n/2, 1), matrix(1, n/2, 1)), rbind(matrix(0, n/4, 1), matrix(1, n/4, 1), matrix(0, n/4, 1), matrix(1, n/4, 1)))
image(Z)
legend()
image(Matrix(Z))
require(Matrix)
image(Matrix(Z))
h = c(3,6,9)
h=rep(0,10)
h(c(3,6,9))=1
h
h(c(3,6,9))=T
g=c(3,6,9)
h[g] = 1
h
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
feats = matrix(0, K, D)
feats.inds = list(c(1, 6, 7, 8, 13), c(3, 4, 5, 9, 11, 15, 16, 17), c(18, 24, 25, 30, 31, 32), c(21, 22, 23, 28, 34))
K=4
D=36
N=100
feats = matrix(0, K, D)
feats.inds = list(c(1, 6, 7, 8, 13), c(3, 4, 5, 9, 11, 15, 16, 17), c(18, 24, 25, 30, 31, 32), c(21, 22, 23, 28, 34))
feats
feats.inds
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
feats = matrix(0, K, D)
feats.inds = list(c(1, 6, 7, 8, 13), c(3, 4, 5, 9, 11, 15, 16, 17), c(18, 24, 25, 30, 31, 32), c(21, 22, 23, 28, 34))
for (i in 1:length(feats.inds)){
feats(i, feats.inds) = 1
}
source('~/.active-rstudio-document')
feats = matrix(0, K, D)
feats.inds = list(c(1, 6, 7, 8, 13), c(3, 4, 5, 9, 11, 15, 16, 17), c(18, 24, 25, 30, 31, 32), c(21, 22, 23, 28, 34))
for (i in 1:length(feats.inds)){
feats[i, feats.inds] = 1
}
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
feats = matrix(0, K, D)
feats.inds = list(c(1, 6, 7, 8, 13), c(3, 4, 5, 9, 11, 15, 16, 17), c(18, 24, 25, 30, 31, 32), c(21, 22, 23, 28, 34))
for (i in 1:length(feats.inds)){
feats[i, feats.inds[i]] = 1
}
source('~/.active-rstudio-document')
feats = matrix(0, K, D)
feats.inds = list(c(1, 6, 7, 8, 13), c(3, 4, 5, 9, 11, 15, 16, 17), c(18, 24, 25, 30, 31, 32), c(21, 22, 23, 28, 34))
for (i in 1:length(feats.inds)){
feats[i, feats.inds[[i]]] = 1
}
feats
image(feats[1,])
image(matrix(feats[1,],6,6))
image(Matrix(feats[1,],6,6))
require(Matrix)
image(matrix(feats[1,],6,6))
image(Matrix(feats[1,],6,6))
image(Matrix(feats[1,],6,6, byrow=F))
image(Matrix(feats[1,],6,6, byrow=T))
image(Matrix(feats[1,],6,6))
image(Matrix(feats[2,],6,6))
image(Matrix(feats[3,],6,6))
image(Matrix(feats[4,],6,6))
image(Matrix(feats[4,],6,6), byrow=T)
image(Matrix(feats[4,],6,6), byrow=F)
image(Matrix(feats[4,],6,6,byrow=F))
image(Matrix(feats[4,],6,6,byrow=T))
image(Matrix(feats[1,],6,6,byrow=T))
source('~/.active-rstudio-document')
feats = matrix(0, K, D)
feats.inds = list(c(0, 5, 6, 7, 12), c(3, 4, 5, 9, 11, 15, 16, 17), c(18, 24, 25, 30, 31, 32), c(21, 22, 23, 28, 34))
for (i in 1:length(feats.inds)){
feats[i, feats.inds[[i]]] = 1
}
image(Matrix(feats[1,],6,6,byrow=T))
image(Matrix(feats[1,],6,6,byrow=F))
feats = matrix(0, K, D)
feats.inds = list(c(2, 7, 8, 9, 14), c(3, 4, 5, 9, 11, 15, 16, 17), c(18, 24, 25, 30, 31, 32), c(21, 22, 23, 28, 34))
for (i in 1:length(feats.inds)){
feats[i, feats.inds[[i]]] = 1
}
image(Matrix(feats[1,],6,6,byrow=T))
feats = matrix(0, K, D)
feats.inds = list(c(2, 7, 8, 9, 14), c(4, 5, 6, 10, 12, 16, 17, 18), c(19, 25, 26, 31, 32, 33), c(22, 23, 24, 29, 35))
for (i in 1:length(feats.inds)){
feats[i, feats.inds[[i]]] = 1
}
image(Matrix(feats[1,],6,6,byrow=T))
image(Matrix(feats[2],6,6,byrow=T))
image(Matrix(feats[2],6,6,byrow=T)),
image(Matrix(feats[2,],6,6,byrow=T))
image(Matrix(feats[3,],6,6,byrow=T))
image(Matrix(feats[4,],6,6,byrow=T))
image(Matrix(feats[1,],6,6),Matrix(feats[2,],6,6))
image(Matrix(feats[],6,6),)
image(Matrix(feats,6,6),)
image(Matrix(feats,6,6),)
image(matrix(feats,6,6),)
image(t(matrix(feats,6,6)),)
image(matrix(feats,6,6),)
image(matrix(feats[1,],6,6),)
image(matrix(feats[2,],6,6),)
image(matrix(feats[3,],6,6),)
image(matrix(feats[4,],6,6),)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
gen.data(100)
feats = matrix(0, K, D)
feats.inds = list(c(2, 7, 8, 9, 14), c(4, 5, 6, 10, 12, 16, 17, 18), c(19, 25, 26, 31, 32, 33), c(22, 23, 24, 29, 35))
par(mfrow=c(2,2))
for (i in 1:length(feats.inds)){
feats[i, feats.inds[[i]]] = 1
image(Matrix(feats[i,]))
}
image(Matrix(feats[i,]))
source('~/.active-rstudio-document')
gen.data(100)
source('~/.active-rstudio-document')
gen.data(100)
feats = matrix(0, K, D)
feats.inds = list(c(2, 7, 8, 9, 14), c(4, 5, 6, 10, 12, 16, 17, 18), c(19, 25, 26, 31, 32, 33), c(22, 23, 24, 29, 35))
par(mfrow=c(2,2))
for (i in 1:length(feats.inds)){
feats[i, feats.inds[[i]]] = 1
image(Matrix(feats[i,], nrow=6))
}
feats = matrix(0, K, D)
feats.inds = list(c(2, 7, 8, 9, 14), c(4, 5, 6, 10, 12, 16, 17, 18), c(19, 25, 26, 31, 32, 33), c(22, 23, 24, 29, 35))
par(mfrow=c(2,2))
for (i in 1:length(feats.inds)){
feats[i, feats.inds[[i]]] = 1
image(matrix(feats[i,], nrow=6))
}
source('~/.active-rstudio-document')
gen.data(100)
?image
rainbow(12)
grey.colors(2)
source('~/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
gen.data(100)
?GREY.
?grey.colors
source('~/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
str(grey.colors(2))
?vector
vector("hi","bye")
c("hi","bye")
source('~/.active-rstudio-document')
gen.data(10)
source('~/.active-rstudio-document')
gen.data(10)
source('~/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
gen.data(10)
source('~/.active-rstudio-document')
gen.data(10)
source('~/.active-rstudio-document')
gen.data(10)
source('~/.active-rstudio-document')
gen.data(10)
?image
source('~/.active-rstudio-document')
gen.data(10)
source('~/.active-rstudio-document')
gen.data(10)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
gen.data(10)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
gen.data(10)
source('~/.active-rstudio-document')
?runif
?outer
?apply
?rnorm
means = rnorm(10)
rnorm(1,means
)
rnorm(10,means)
apply(menas,FUN=rnorm,n=1,sd=1)
apply(means,FUN=rnorm,n=1,sd=1)
source('~/.active-rstudio-document')
gen.data(1)
gen.data(100)
options(error=recover)
source('~/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
gen.data(100)
# define four latent features and generate data
A = matrix(0, K, D)
feats.inds = list(c(2, 7, 8, 9, 14), c(4, 5, 6, 10, 12, 16, 17, 18), c(19, 25, 26, 31, 32, 33), c(22, 23, 24, 29, 35))
par(mfrow=c(2,2))
for (i in 1:length(feats.inds)){
A[i, feats.inds[[i]]] = 1
plot.matrix(matrix(A[i,], nrow=6))
}
# select the latent features for each datum
Z = matrix(runif(N*K), nrow=N)
Z = Z > Zprob
# generate the data
means = Z %*% A
Zprob=0.5
# define four latent features and generate data
A = matrix(0, K, D)
feats.inds = list(c(2, 7, 8, 9, 14), c(4, 5, 6, 10, 12, 16, 17, 18), c(19, 25, 26, 31, 32, 33), c(22, 23, 24, 29, 35))
par(mfrow=c(2,2))
for (i in 1:length(feats.inds)){
A[i, feats.inds[[i]]] = 1
plot.matrix(matrix(A[i,], nrow=6))
}
# select the latent features for each datum
Z = matrix(runif(N*K), nrow=N)
Z = Z > Zprob
# generate the data
means = Z %*% A
means
?prod
source('~/.active-rstudio-document')
gen.data(2)
source('~/.active-rstudio-document')
gen.data(2)
A.wnoise
plot.matrix(matrix(A.wnoise[1,],nrow=6))
source('~/.active-rstudio-document')
plot.matrix(matrix(A.wnoise[1,],nrow=6))
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
gen.data(20)
gen.norm <- function(mean, sd, n=1){ rnorm(n, mean, sd) }
gen.norm(1,1)
gen.norm(1,10)
gen.norm(1,10)
gen.norm(1,10)
gen.norm(1,10)
source('~/.active-rstudio-document')
Q
source('~/.active-rstudio-document')
gen.data(100)
X
plot.matrix(matrix(X(1,),nrow=6)
)
dim(X)
image(Matrix(X(1,),nrow=6))
str(X)
Q
model = gen.data(100)
Q
source('~/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
model = gen.data(100)
model
image(Matrix(Z))
image(Matrix(model$X[1,],nrow=6))
image(Matrix(model$X[2,],nrow=6))
image(Matrix(model$X[3,],nrow=6))
model$Z[1:5,]
image(Matrix(model$X[3,],nrow=6))
image(Matrix(model$X[4,],nrow=6))
image(Matrix(model$X[5,],nrow=6))
model = gen.data(100, sigX=1)
image(Matrix(model$X[5,],nrow=6))
model$Z[1:5,]
image(Matrix(model$X[4,],nrow=6))
source('~/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/quick-test.R')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
A.hat
dim(A.hat)
dim(Z.hat)
dim(X)
params
source('~/.active-rstudio-document')
image(A.hat)
image(t(A.hat))
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
install.packages("gregmisc")
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
params
source('~/.active-rstudio-document')
A.hat = map.A(X, Z.hat, params$sigX, params$sigA)
image(t(A.hat[1,]))
image(t(A.hat[2,]))
image(t(A.hat[3,]))
image(t(A.hat[4,]))
A.hat
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
image(matrix(A.hat[1,], nrow=6))
image(matrix(A.hat[2,], nrow=6))
image(matrix(A.hat[3,], nrow=6))
image(matrix(A.hat[4,], nrow=6))
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
Z.hat
dim(Z.hat)
dim(A.hat)
dim(A.hat[-1,])
X.hat = Z.hat[,-rm.ind] %*% A[-rm.ind,]
dim(A[-rm.ind,])
dim(A.hat)
source('~/.active-rstudio-document')
dim(A)
dim(Z)
Z[-2,]
dim(Z)
source('~/.active-rstudio-document')
l
list
n
s
n
n
dim(A.hat)
n
dim(A.hat)
n
n
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
rm.ind
dim(Z.hat)
dim(A.hat)
Z.hat[,-rm.ind] %*% A[-rm.ind,]
dim(A)
dim(Z)
source('~/.active-rstudio-document')
Q
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
plot.A(A)
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
pi
?det
?diag
diag(5)
diag(3,5)
diag(1, 3,5)
diag(5,2)
source('~/.active-rstudio-document')
options(error=recover)
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
ls()
dim(X)
dim(Z.hat)
source('~/.active-rstudio-document')
0
Q
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
?x11
source('~/.active-rstudio-document')
ls()
-N*D/2*log(2*pi) - (N-K)*D*log(sigX) - K*D*log(sigA) - D/2*log(det(ZtZ+ diag.sig)) - 1/(2*sigX^2)*sum(diag(t(X) %*% (diag(N) - Z %*% solve(ZtZ + diag.sig) %*% t(Z)) %*% X))
solve(ZtZ + diag.sig)
diag(N) - Z %*% solve(ZtZ + diag.sig) %*% t(Z)
dim(Z)
Z %*% solve(ZtZ + diag.sig) %*% t(Z)
N
0
Q
source('~/.active-rstudio-document')
plot(llhood)
plot(llhood)
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
plot(llhood)
source('/homes/mlghomes/cr478/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
plot(llhood)
5*55
source('~/.active-rstudio-document')
A.hatML = map.A(X, Z.hatML, params$sigX, params$sigA)
plot.A(A.hatML)
require(Matrix)
image(t(Matrix(mat[i,], nrow=rdim)), axes=FALSE)
image(Matrix(mat[i,], nrow=rdim))
image(Matrix(A.hatML[1,], nrow=6))
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('~/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
clc
source('~/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
image(t(Z))
image(t(Z))
require(Matrix)
image(Matrix(Z))
image(Matrix(Z.hat))
image(t(Z))
source('~/.active-rstudio-document')
image(Z)
source('~/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
Q
source('~/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
source('~/.active-rstudio-document')
ls()
image(Z)
n
n
n
n
Q
l
options(error=recover)
source('~/.active-rstudio-document')
ls()
0
0
Q
source('~/.active-rstudio-document')
w
l
c
install.packages("truncnorm")
library("truncnorm")
? rtruncnorm
rtruncnorm(10)
rtruncnorm(10,a=0)
rtruncnorm(10,a=0)
rtruncnorm(10,a=0,mean=0,sd=2)
mean(rtruncnorm(10000,a=0,mean=0,sd=2))
mean(rtruncnorm(10000,a=0,mean=0,sd=2))
mean(rtruncnorm(10000,a=0,mean=0,sd=2))
mean(rtruncnorm(100000,a=0,mean=0,sd=2))
mean(rtruncnorm(100000,a=-1,mean=0,sd=2))
mean(rtruncnorm(100000,a=-1,mean=0,sd=2))
mean(rtruncnorm(100000,a=-10,mean=0,sd=2))
mean(rtruncnorm(100000,a=-100,mean=0,sd=2))
mean(rtruncnorm(100000,a=-2,mean=0,sd=2))
?rnorm
qnorm(5)
pnorm(2)
pnorm(2)
pnorm(1)
pnorm(9)
dnorm(2)
dnorm(3)
dnorm(2)/(1-pnorm(2))
aa=rnorm(10000,-2,1)
mean(aa[aa>0])
aa=rnorm(1000000,-2,1)
mean(aa[aa>0])
??erf
?norm
?pnorm
source('~/Dropbox/spectral-ibp/KASP/lgshapes-test.R')
lgamma
?lgamma
